import { pipe, Schema } from 'effect'
import { type SupportedLocale, translate } from '../locales/index.ts'

export type SubfieldId = (typeof subfieldIds)[number]

export const subfieldIds = [
  '1100',
  '1102',
  '1103',
  '1104',
  '1105',
  '1106',
  '1107',
  '1108',
  '1109',
  '1110',
  '1111',
  '1200',
  '1202',
  '1203',
  '1204',
  '1205',
  '1206',
  '1207',
  '1208',
  '1209',
  '1210',
  '1211',
  '1212',
  '1213',
  '1302',
  '1303',
  '1304',
  '1305',
  '1306',
  '1307',
  '1308',
  '1309',
  '1310',
  '1311',
  '1312',
  '1313',
  '1314',
  '1315',
  '1402',
  '1403',
  '1404',
  '1405',
  '1406',
  '1407',
  '1408',
  '1409',
  '1410',
  '1502',
  '1503',
  '1504',
  '1506',
  '1507',
  '1508',
  '1602',
  '1603',
  '1604',
  '1605',
  '1606',
  '1607',
  '1702',
  '1703',
  '1704',
  '1705',
  '1706',
  '1707',
  '1708',
  '1709',
  '1710',
  '1711',
  '1712',
  '1800',
  '1802',
  '1803',
  '1804',
  '1902',
  '1904',
  '1906',
  '1907',
  '1908',
  '1910',
  '1911',
  '1912',
  '2000',
  '2002',
  '2003',
  '2100',
  '2102',
  '2103',
  '2104',
  '2105',
  '2200',
  '2202',
  '2203',
  '2204',
  '2205',
  '2206',
  '2207',
  '2208',
  '2209',
  '2210',
  '2211',
  '2212',
  '2213',
  '2214',
  '2215',
  '2216',
  '2302',
  '2303',
  '2304',
  '2305',
  '2306',
  '2307',
  '2308',
  '2309',
  '2310',
  '2311',
  '2312',
  '2402',
  '2403',
  '2404',
  '2405',
  '2406',
  '2500',
  '2502',
  '2503',
  '2504',
  '2505',
  '2506',
  '2507',
  '2508',
  '2602',
  '2604',
  '2605',
  '2607',
  '2608',
  '2610',
  '2611',
  '2612',
  '2613',
  '2614',
  '2702',
  '2703',
  '2704',
  '2705',
  '2706',
  '2707',
  '2708',
  '2711',
  '2712',
  '2713',
  '2714',
  '2715',
  '2716',
  '2717',
  '2718',
  '2720',
  '2721',
  '2723',
  '2724',
  '2725',
  '2726',
  '2727',
  '2728',
  '2729',
  '2730',
  '2731',
  '2732',
  '2733',
  '2734',
  '2735',
  '2736',
  '2737',
  '2738',
  '2739',
  '2740',
  '2741',
  '2742',
  '2743',
  '2745',
  '2746',
  '2747',
  '2748',
  '2802',
  '2803',
  '2804',
  '2805',
  '2806',
  '2807',
  '2808',
  '2809',
  '2910',
  '2911',
  '2916',
  '2922',
  '3002',
  '3003',
  '3004',
  '3005',
  '3102',
  '3103',
  '3104',
  '3105',
  '3106',
  '3107',
  '3108',
  '3109',
  '3200',
  '3202',
  '3203',
  '3204',
  '3205',
  '3206',
  '3207',
  '3300',
  '3302',
  '3303',
  '3304',
  '3305',
  '3306',
  '3307',
  '3308',
  '3309',
  '3310',
  '3311',
  '3312',
  '3313',
  '3314',
  '3315',
  '3316',
  '3317',
  '3318',
  '3319',
  '3320',
  '3321',
  '3322',
  '3402',
  '3404',
  '3500',
  '3504',
  '3505',
  '3506',
  '3600',
  '3603',
  '3604',
  '3605',
  '3607',
  '3608',
  '3609',
  '3611',
  '3612',
  '3614',
  '3616',
] as const

export const SubfieldIdSchema = pipe(Schema.String, Schema.filter(isSubfieldId))

export function getSubfieldName(id: SubfieldId, locale: SupportedLocale): string {
  return translate(locale, 'subfields', `subfield${id}`)()
}

export function isSubfieldId(value: string): value is SubfieldId {
  return (subfieldIds as ReadonlyArray<string>).includes(value)
}
